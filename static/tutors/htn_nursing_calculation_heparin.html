<div style="display: flex; justify-content: center; align-items: center;">
    <form class="" style="width: 650px;">

        <div class="container" style="margin: 3%;">
            <div class="row">
                <div class="col-sm">
                    <div style="text-align: center;">
                        <h3>Calculate the appropriate dosage.</h3>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                </div>
                <div class="col-sm">
                    <input disabled type="text" id="initial_problem" class="form-control"
                        style="width: 500px; display: none;">
                    <div style="text-align: center; width: 500px;" id="initial_problem_text"></div>
                </div>
                <div class="col-sm">
                </div>
            </div>
        </div>

        <div class="container level_1" style="margin: 2%; display:none; margin-bottom: 25px">
            <p><strong>What is the question asking for?</strong></p>
            <div class="row">
                <div class="col">
                    <select id="final_answer_numerator_units" style="height: 40px;width: 150px;">
                        <option value="" selected disabled hidden>Select a unit</option>
                        <option value="mL">mL</option>
                        <option value="L">L</option>
                        <option value="units">units</option>
                        <option value="minutes">minutes</option>
                        <option value="hours">hours</option>
                        <option value="drop">drop</option>
                    </select>
                </div>
                <div class="col">
                    <strong>per</strong>
                </div>
                <div class="col">
                    <select id="final_answer_denominator_units" style="height: 40px;width: 150px;">
                        <option value="" selected disabled hidden>Select a unit</option>
                        <option value="mL">mL</option>
                        <option value="L">L</option>
                        <option value="units">units</option>
                        <option value="minutes">minutes</option>
                        <option value="hours">hours</option>
                        <option value="drop">drop</option>
                    </select>
                </div>
                <div class="col-sm">
                    <button id="level_2"
                        class="btn btn-danger scaffold">+</button>
                </div>
            </div>
        </div>
        <div class="container level_2" style="margin:2%; display:none; margin-bottom: 25px">
            <div class="row" style="margin-top:1%">
                <div class="col">
                    <p style="width:250px"><strong>Do you need to convert?</strong></p>
                </div>
                <div class="col" style="width:50px">
                    yes
                    <input id="yes_convert" type="checkbox" data-column= "1" data-row= "1" value="" style="width: 38px; height: 38px; display: block; margin-bottom: 5px;">
                </div>
                <div class="col"  style="width:50px">
                    no
                    <input id="no_convert" type="checkbox" data-column= "2" data-row= "1" value="" style="width: 38px; height: 38px; display: block; margin-bottom: 5px;">
                </div>
                
                <div class="col-sm">
                    <button id="level_3"
                        class="btn btn-danger scaffold">+</button>
                </div>
            </div>
            <div id="yes_convert_units" style="display:none">
                <p><strong>Convert units:</strong></p>
                <div class="row" style="margin-top:1%">
                    <div class="col-sm">
                        <math-field id="convert_value1" data-column="1" data-row="1" class="form-control" value="" style="width: 75px; margin-bottom: 5px;"></math-field>
                    </div>
                    <div class="col-sm">
                        <select id="convert_unit1" style="height: 40px;width: 150px;">
                            <option value="" selected disabled hidden>unit</option>
                            <option value="mL">mL</option>
                            <option value="L">L</option>
                            <option value="units">units</option>
                            <option value="minutes">minutes</option>
                            <option value="hours">hours</option>
                            <option value="drop">drop</option>
                        </select>
                    </div>
                    <div class="col-sm" style="align-items: center;">
                        <p><strong>=</strong></p>
                    </div>
                    <div class="col-sm">
                        <math-field id="convert_value2" data-column="1" data-row="1" class="form-control" value="" style="width: 75px; margin-bottom: 5px;"></math-field>
                    </div>
                    <div class="col-sm">
                        <select id="convert_unit2" style="height: 40px;width: 150px;">
                            <option value="" selected disabled hidden>unit</option>
                            <option value="mL">mL</option>
                            <option value="L">L</option>
                            <option value="units">units</option>
                            <option value="minutes">minutes</option>
                            <option value="hours">hours</option>
                            <option value="drop">drop</option>
                        </select>
                    </div>
                </div>
            </div>

        </div>


        <div class="container level_3" style="margin: 2%; display:none; margin-bottom: 25px">
            <div class="row">
                    <p><strong>Fill in the information given from the problem.</strong></p>
            </div>
            <div class="row">
                <div class="col-sm">
                    <p>Identify the Supply:</p>
                </div>
                <div class="col-sm">
                    <p>Identify the Order:</p>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <div class="row" style="flex-wrap: nowrap;align-items: center;">
                        <div class="col">
                            <math-field id="supply_numerator" data-column="1" data-row="1" class="form-control" value="" style="width: 75px; margin-bottom: 5px;"></math-field>
                        </div>
                        <div class="col">
                            <select id="supply_numerator_units" style="height: 40px;width: 150px;">
                                <option value="" selected disabled hidden>unit</option>
                                <option value="mL">mL</option>
                                <option value="L">L</option>
                                <option value="units">units</option>
                                <option value="minutes">minutes</option>
                                <option value="hours">hours</option>
                                <option value="drop">drop</option>
                            </select>
                        </div>
                    </div>
                    <div class="row" style="flex-wrap: nowrap;align-items: center;">
                        <div class="col">
                            <math-field id="supply_denominator" data-column="1" data-row="1" class="form-control" value="" style="width: 75px; margin-bottom: 5px;"></math-field>
                        </div>
                        <div class="col">
                            <select id="supply_denominator_units" style="height: 40px;width: 150px;">
                                <option value="" selected disabled hidden>unit</option>
                                <option value="mL">mL</option>
                                <option value="L">L</option>
                                <option value="units">units</option>
                                <option value="minutes">minutes</option>
                                <option value="hours">hours</option>
                                <option value="drop">drop</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-sm"></div>
                
                <div class="col-sm">
                    <div class="row" style="flex-wrap: nowrap;align-items: center;">
                        <div class="col">
                            <math-field id="order_numerator" data-column="1" data-row="1" class="form-control" value="" style="width: 75px; margin-bottom: 5px;"></math-field>
                        </div>
                        <div class="col">
                            <select id="order_numerator_units" style="height: 40px;width: 150px;">
                                <option value="" selected disabled hidden>unit</option>
                                <option value="mL">mL</option>
                                <option value="L">L</option>
                                <option value="units">units</option>
                                <option value="minutes">minutes</option>
                                <option value="hours">hours</option>
                                <option value="drop">drop</option>
                            </select>
                        </div>
                    </div>
                    <div class="row" style="flex-wrap: nowrap;align-items: center;">
                        <div class="col">
                            <math-field id="order_denominator" data-column="1" data-row="1" class="form-control" value="" style="width: 75px; margin-bottom: 5px;"></math-field>
                        </div>
                        <div class="col">
                            <select id="order_denominator_units" style="height: 40px;width: 150px;">
                                <option value="" selected disabled hidden>unit</option>
                                <option value="mL">mL</option>
                                <option value="L">L</option>
                                <option value="units">units</option>
                                <option value="minutes">minutes</option>
                                <option value="hours">hours</option>
                                <option value="drop">drop</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-sm">
                    <button id="level_4" class="btn btn-danger scaffold">+</button>
                </div>
            </div>
        </div>

        <div class="container level_4" style="margin: 2%; display:none;">
            <p><strong>Cross Multiply</strong></p>
            <div class="row" style="flex: auto;">
                <div class="col-sm" style="margin-top: 1%;">
                    <p>Left Side:</p>
                </div>
                <div class="col-sm" style="margin-top: 1%;">
                    <p>Right Side:</p>
                </div>
            </div>
            <div class="row" style="flex: auto;">
                <div class="col">
                    <math-field id="cross_multiply_left_side" virtual-keyboard-mode="off" style="width: 250px; border: 1px solid rgba(0, 0, 0, .3);"></math-field>
                </div>
                <div class="col">
                    =
                </div>
                <div class="col">
                    <math-field id="cross_multiply_right_side" virtual-keyboard-mode="off" style="width: 250px; border: 1px solid rgba(0, 0, 0, .3);"></math-field>
                </div>
                <div class="col">
                    <button id="level_5" style="margin-left:-10px;" class="btn btn-danger scaffold">+</button>
                </div>
            </div>
            
        </div>

        <div class="container level_5" style="margin: 2%; display:none;">
            <p><strong>Solve for x.</strong></p>
            <div class="row" style="flex: auto;">
                <div class="col-sm" style="margin-top: 1%;">
                    <p>Left Side:</p>
                </div>
                <div class="col-sm" style="margin-top: 1%;">
                    <p>Right Side:</p>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <math-field id="solve_x_left_side" virtual-keyboard-mode="off" style="width: 250px; border: 1px solid rgba(0, 0, 0, .3);"></math-field>
                </div>
                <div class="col">
                    =
                </div>
                <div class="col-sm">
                    <math-field id="solve_x_right_side" virtual-keyboard-mode="off" style="width: 250px; border: 1px solid rgba(0, 0, 0, .3);"></math-field>
                </div>
                <div class="col">
                </div>
            </div>
        </div>


        <div class="container level_0" style="margin: 2%;">
            <div class="row">
                <div class="col-sm">
                    <p>What is the appropriate dosage?</p>
                    <math-field id="final_answer" virtual-keyboard-mode="onfocus"
                        style="width: 569px; border: 1px solid rgba(0, 0, 0, .3);"></math-field>
                </div>
                <div class="col-sm">
                    <button id="level_1" style="margin-left:-10px;margin-top:43px"
                        class="btn btn-danger scaffold">+</button>
                </div>
            </div>
        </div>
    </form>
</div>


<script>

    function toggleConvert(){
        // console.log('toggle')
        $('#yes_convert_units').toggle();
    }

    $(document).ready(function() {
        // console.log('Script loaded and event listeners added.');
        $('#yes_convert').change(toggleConvert);
    });

</script>
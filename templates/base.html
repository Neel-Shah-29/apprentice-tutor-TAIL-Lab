<!doctype html>
<html>
    <head>
        {% block head %}
        <script src="/javascript/jquery-3.6.0.min.js"></script>
        <script src="/javascript/javascript.js"></script>

        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/css/style.css" type="text/css">
        <link rel="stylesheet" href="/css/visualizations.css" type="text/css">
        
        <!-- Javascript for math styling -->
        <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> -->
        <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

        <!-- Include Shepherd JS -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/shepherd.js"></script>-->
        <script src="/javascript/shepherd.js"></script>
        <!-- Include Shepherd CSS -->
        <!-- <link href="https://cdn.jsdelivr.net/npm/shepherd.js/11.2.0/css/shepherd.css" rel="stylesheet"> -->
        <link href="/css/shepherd.css" rel="stylesheet">
        <!-- For radical styling -->
        <script defer src="https://unpkg.com/mathlive@0.97.0/dist/mathlive.min.js"></script>

        
        {% block extraheader %} {% endblock %}
        <title>{% block title %}Tutor{% endblock %}</title>
        {% endblock %}
    </head>
    <body>

        <!-- Buglog -->
        <!-- <script>
            (function(d, s) {
            s = d.createElement('script');
            s.src = 'https://api.buglog.io/website/2VRK2K5XEP/code';
            s.async = 1;
            d.head.appendChild(s);
            })(document);
        </script> -->

        <!-- <div id="heading">
            <h1>{% block heading %}{% endblock %}</h1>
            </div> -->
            <div id="nav">
                {% block nav %}
                    {% if not deep_link %}
                        <header class="p-3 bg-primary text-white">
                            <div class="container">
                                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                                    <!--
                                    <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                                        <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
                                    </a>
                                    -->

                                    <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                                        {% if current_user.is_authenticated %}
                                        <!-- <li><a href="/home" class="nav-link px-2 text-white">Home</a></li> -->
                                        <!-- <a href="{{ url_for('home') }}"><button type="button" class="btn btn-outline-light me-2">Home</button></a> -->
                                        <!-- <li><a href="#" class="nav-link px-2 text-white">FAQs</a></li>
                                            <li><a href="#" class="nav-link px-2 text-white">About</a></li> -->
                                        {% endif %}
                                    </ul>


                                    <div class="text-end">
                                        {% if not current_user.is_authenticated %}
                                        <a href="{{ url_for('login') }}"><button type="button" class="btn btn-outline-light me-2">Login</button></a>
                                        <a href="{{ url_for('signup') }}"><button type="button" class="btn btn-warning">Sign-up</button></a>
                                        {% endif %}

                                        {% if current_user.is_authenticated %}
                                        <a href="{{ url_for('home') }}"><button type="button" id="home-page" class="btn btn-outline-light me-2">Home</button></a>
                                        <button type="button" class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#helpModal">Get Help!</button>
                                        <!-- TODO: FIX this to make it == -->
                                        {% if current_user.role == "Instructor" %}
                                        <a href="{{ url_for('course') }}"><button type="button" class="btn btn-outline-light me-2">My Class</button></a>
                                        <a href="{{ url_for('analytics') }}"><button type="button" class="btn btn-outline-light me-2">Analytics</button></a>
                                        {% endif %}
                                        <a href="{{ url_for('profile') }}"><button type="button" id="profile-page" class="btn btn-outline-light me-2">My Profile</button></a>
                                        <button type="button" class="btn btn-outline-primary btn-light me-2" id="tutorial">Tutorial</button>
                                        <!-- <a href="https://www.youtube.com/watch?v=ORANiXg7cdk&t=14s" target="_blank"><button type="button" class="btn btn-outline-light me-2">Tutorial</button></a> -->
                                        <a href="{{ url_for('logout') }}"><button type="button" class="btn btn-outline-light me-2">Logout</button></a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </header>
                    {% endif %}
                {% endblock %}
            </div>


           <!-- Modal -->
            <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="helpModalLabel">Using the hint box functionality</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <img src="/images/hint.gif" width="120%">
                            </div>
                            <div class="row" style="margin: 3%;">
                                <ul>
                                    <li>Please utilize the hint box on the bottom of the tutor</li>
                                    <li>You may click on "Ask For Hint!" to access a hint</li>
                                    <li>To access additional hints, click "Next Hint"</li>
                                    <li>For technical issues please contact cm3786@drexel.edu</li>
                                </ul>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div id="flashdiv">
                {% for message in messages %}
                <div class="alert alert-warning flash" role="alert">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}
            {% endwith %}
            <div>{% block content %}{% endblock %}</div>
            <div id="footer">
                {% block footer %}
                {% endblock %}
            </div>
    
    <!-- <script src="//code.tidio.co/bhayxwnk5hwyftorwciz74y9fgzgnxjt.js" async></script> -->
    </body>
</html>
